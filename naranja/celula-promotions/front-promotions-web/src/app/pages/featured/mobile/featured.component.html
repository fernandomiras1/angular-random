<app-navbar-mobile [showTitle]="true" [showMenuButton]="false" [title]="selectedFeaturePromo.description"
  [shadow]="true" [fixed]="false">
</app-navbar-mobile>

<div class="spinner--container" *ngIf="loading">
  <z-loading type="primary" size="large"></z-loading>
</div>

<div *ngIf="!error">
  <div *ngIf="!loading">
    <app-lazy-image *ngIf="selectedFeaturePromo && promosRendered.length > 0" [image]="getHeaderImage()"
      [alt]="'Header Icon'">
    </app-lazy-image>

    <div class="filter--container">
      <p class="message--counter" *ngIf="promos.length + promosRendered.length === 1">
        Tenemos {{ promos.length + promosRendered.length }} promo especial</p>
      <p class="message--counter" *ngIf="promos.length + promosRendered.length > 1">
        Tenemos {{ promos.length + promosRendered.length }} promos especiales</p>
    </div>

    <div class="featured--container">
      <app-infinite-scroll (scrolled)="onScroll()" *ngIf="promosRendered.length > 0">
        <app-promo-list-mobile [showOpenFilterButton]="false" [isLastPage]="true" (scrolled)="onScroll()"
          [loading]="loading" [promos]="promos" [promosRendered]="promosRendered"
          [analitycsCreativeClass]="analyticsClass">
        </app-promo-list-mobile>
      </app-infinite-scroll>
    </div>

  </div>
</div>

<div *ngIf="promosRendered.length === 0">
  <app-empty-state-grid [showOpenFilterButton]="true" (showFilter)="onErrorStateButtonPressed()"
    [emptyStateData]="emptyStateData" *ngIf="!loading && promosRendered.length === 0">
  </app-empty-state-grid>
</div>
<div class="separator" *ngIf="promosRendered.length === 0"></div>
<div *ngIf="error">
  <app-error-state (retryClicked)="retry()"></app-error-state>
</div>

<ng-container *ngIf="promos.length === 0">
  <app-footer-ncom></app-footer-ncom>
</ng-container>