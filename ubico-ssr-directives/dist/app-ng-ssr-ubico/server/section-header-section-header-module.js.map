{"version":3,"sources":["./src/app/sections/section-common.ts","./src/app/sections/section-header/section-header.component.ts","./src/app/sections/section-header/section-header.component.html","./src/app/sections/section-header/section-header.module.ts","./src/app/core/enum/components-enum.ts","./src/app/components/w2m-language-picker/w2m-language-picker.module.ts","./src/app/shared/components/w2m-link/w2m-link.module.ts","./src/app/core/pipes/w2m-safe-to-html.pipe.ts","./src/app/shared/i18n/i18n.service.ts","./src/app/core/pipes/pipes.module.ts","./src/app/components/w2m-language-picker/w2m-language-picker.component.html","./src/app/components/w2m-language-picker/w2m-language-picker.component.ts","./src/app/shared/components/w2m-link/w2m-link.component.html","./src/app/shared/components/w2m-link/w2m-link.component.ts"],"names":[],"mappings":"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","file":"section-header-section-header-module.js","sourcesContent":["import { ComponentsEnum } from '../core/enum/components-enum'\nimport { SectionsDynamic } from '../core/model/dynamic-page/dynamic-data-dto'\n\nexport class SectionCommon {\n  public readonly data: SectionsDynamic\n\n  public ComponentType: typeof ComponentsEnum = ComponentsEnum\n}\n","import { isPlatformBrowser } from '@angular/common'\nimport {\n  Component, HostListener, Inject, Input, PLATFORM_ID,\n} from '@angular/core'\nimport { HeaderDto, ItemHeader, SubMenuHeader } from 'src/app/sections/section-header/model/header-dto'\nimport { SectionCommon } from '../section-common'\n\n@Component({\n  selector: 'section-header',\n  templateUrl: './section-header.component.html',\n  styleUrls: ['./section-header.component.scss'],\n})\nexport class SectionHeaderComponent extends SectionCommon {\n  @Input() header: HeaderDto\n\n  public headerScrolled = false\n\n  public headerTransparent = true\n\n  public headerHeight = 85\n\n  constructor(@Inject(PLATFORM_ID) private platform: string) {\n    super()\n  }\n\n  public getSubItems(items: ItemHeader[]): SubMenuHeader[] {\n    return items\n      .map(item => item.subMenu)\n      .reduce((acc, val) => acc.concat(val), [])\n  }\n\n  @HostListener('window:scroll')\n  private handleScroll() {\n    if (this.headerTransparent) {\n      if (isPlatformBrowser(this.platform)) {\n        this.headerScrolled = window.scrollY > this.headerHeight\n      }\n    }\n  }\n}\n","<ng-container *ngIf=\"data.fields as header\">\n  <div class=\"w2m-sidenav-header\" [ngClass]=\"{ headerscrolled: headerScrolled }\">\n    <div class=\"w2m-sidenav-header__container container is-flex is-align-items-center is-justify-content-space-between\">\n      <div class=\"w2m-sidenav-header__container-logo\">\n        <em (click)=\"drawer.toggle()\" class=\"far fa-bars\"></em>\n        <img class=\"w2m-sidenav-header__container-logo--light\" src=\"../../../assets/img/ubico/logo-ubico-light.svg\"\n          alt=\"Ubico Logo\">\n        <img class=\"w2m-sidenav-header__container-logo--dark\" src=\"../../../assets/img/ubico/logo-ubico-dark.svg\"\n          alt=\"Ubico Logo\">\n      </div>\n      <div class=\"w2m-sidenav-header__container-language-picker\">\n        <w2m-language-picker></w2m-language-picker>\n      </div>\n      <w2m-link *ngIf=\"header.button\"\n      class=\"w2m-sidenav-header__container-private-area\"\n      [urlLink]=\"header.button?.urlButton\">\n        <span>\n          <p>{{ header.button?.textButton }}</p>\n          <em [ngClass]=\"header.button?.iconButton\"></em>\n        </span>\n      </w2m-link>\n    </div>\n  </div>\n  <mat-drawer-container class=\"w2m-sidenav-menu\">\n    <mat-drawer #drawer class=\"w2m-sidenav-menu__container\" mode=\"over\">\n      <ul *ngFor=\"let item of getSubItems(header.items)\">\n        <li>\n          <w2m-link [urlLink]=\"item.url\">\n            <h3><strong>{{item.steps}}</strong></h3>\n          </w2m-link>\n        </li>\n        <li *ngFor=\"let option of item.options\">\n          <w2m-link class=\"w2m-sidenav-menu__container-link\" [urlLink]=\"option.url\">\n            {{option.name}}\n          </w2m-link>\n        </li>\n      </ul>\n      <div class=\"w2m-sidenav-menu__container-rrss\">\n        <div class=\"w2m-sidenav-menu__container-rrss-icons\">\n          <w2m-link *ngFor=\"let item of header.icons\" [urlLink]=\"item.url\">\n            <em [ngClass]=\"item.icon\"></em>\n          </w2m-link>\n        </div>\n        <h6 *ngIf=\"header.copyright\" [innerHtml]=\"header.copyright | w2mSafeToHtml\"></h6>\n      </div>\n    </mat-drawer>\n  </mat-drawer-container>\n</ng-container>\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { MatSidenavModule } from '@angular/material/sidenav'\nimport { PipesModule } from 'src/app/core/pipes/pipes.module'\nimport { W2mLinkModule } from 'src/app/shared/components/w2m-link/w2m-link.module'\nimport { W2MLanguagePickerModule } from 'src/app/components/w2m-language-picker/w2m-language-picker.module'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { SectionHeaderComponent } from './section-header.component'\n\nconst MATERIAL_MODULES = [\n  MatSidenavModule,\n]\n@NgModule({\n  declarations: [\n    SectionHeaderComponent,\n  ],\n  imports: [\n    CommonModule,\n    PipesModule,\n    W2mLinkModule,\n    MATERIAL_MODULES,\n    W2MLanguagePickerModule,\n    TranslateModule,\n  ],\n  exports: [SectionHeaderComponent],\n})\nexport class SectionHeaderModule {\n  static entry=SectionHeaderComponent\n}\n","// eslint-disable-next-line no-shadow\nexport enum ComponentsEnum {\n  ComponentImage = 'component-image',\n  ComponentInfoText = 'component-info-text',\n  ComponentSubtitle = 'component-subtitle',\n  ComponentCarousel = 'component-carousel',\n  ComponentButton = 'component-button'\n}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { MatButtonModule } from '@angular/material/button'\nimport { MatMenuModule } from '@angular/material/menu'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { W2MLanguagePickerComponent } from './w2m-language-picker.component'\n\nconst MATERIAL_MODULES = [\n  MatButtonModule,\n  MatMenuModule,\n]\n\n@NgModule({\n  declarations: [W2MLanguagePickerComponent],\n  imports: [\n    CommonModule,\n    MATERIAL_MODULES,\n    TranslateModule,\n  ],\n  exports: [\n    W2MLanguagePickerComponent,\n    TranslateModule,\n  ],\n})\nexport class W2MLanguagePickerModule {}\n","import { RouterModule } from '@angular/router'\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { W2mLinkComponent } from './w2m-link.component'\n\n@NgModule({\n  declarations: [\n    W2mLinkComponent,\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n  ],\n  exports: [\n    W2mLinkComponent,\n  ],\n})\nexport class W2mLinkModule { }\n","import { Pipe, PipeTransform } from '@angular/core'\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser'\n\n@Pipe({\n  name: 'w2mSafeToHtml',\n})\nexport class W2mSafeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(value: string): SafeHtml {\n    return value ? this.sanitizer.bypassSecurityTrustHtml(value) : ''\n  }\n}\n","import {\n  Injectable, Optional, Inject, PLATFORM_ID,\n} from '@angular/core'\nimport { TranslateService } from '@ngx-translate/core'\nimport { REQUEST } from '@nguniversal/express-engine/tokens'\nimport { Request } from 'express'\nimport { isPlatformBrowser, DOCUMENT } from '@angular/common'\nimport { BehaviorSubject, Observable, of } from 'rxjs'\nimport { Language } from './model/language-dto'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class I18nService {\n  public changeLanguage$: Observable<string>\n\n  public readonly defaultLanguage = 'es'\n\n  public readonly allowedLanguages: Language[] = [\n    {\n      code: 'en',\n      name: 'English',\n      startDate: 0,\n    },\n    {\n      code: 'es',\n      name: 'Español',\n      startDate: 1,\n    },\n  ]\n\n  private changeLanguageSubject: BehaviorSubject<string> = new BehaviorSubject<string>(this.defaultLanguage)\n\n  private currentLang: string\n\n  constructor(\n      private translate: TranslateService,\n      @Optional() @Inject(REQUEST) private req: Request,\n      @Inject(PLATFORM_ID) private platform: string,\n      @Inject(DOCUMENT) private document: Document,\n  ) {\n    this.currentLang = this.getLanguage()\n    this.changeLanguage$ = this.changeLanguageSubject.asObservable()\n  }\n\n  init(path: string): void {\n    this.translate.addLangs(this.allowedLanguages.map(lang => lang.code))\n    this.currentLanguage = this.processLanguage(path)\n    this.changeLanguageSubject.next(this.currentLanguage)\n    this.translate.use(this.processLanguage(path))\n    this.setLangHTML()\n  }\n\n  public find(): Observable<Language[]> {\n    return of(this.allowedLanguages)\n  }\n\n  public getURL(path: string) {\n    return path.replace(`/${this.processLanguage(path)}`, '')\n  }\n\n  public changeLanguage(selected: Language): void {\n    if (selected.code !== this.currentLanguage) {\n      this.currentLanguage = selected.code\n      this.translate.use(selected.code)\n      this.changeLanguageSubject.next(selected.code)\n      this.setLangHTML()\n    }\n  }\n\n  public getLanguage(): string {\n    return isPlatformBrowser(this.platform)\n      ? this.currentLanguage || this.defaultLanguage\n      : this.getLangFromSSR()\n  }\n\n  private getLangFromSSR() {\n    return this.req\n      ? this.extractLang(this.req.url)\n      : this.defaultLanguage\n  }\n\n  private processLanguage(path: string): string {\n    return this.allowedLanguages.some((lang: Language) => lang.code === this.extractLang(path))\n      ? this.extractLang(path)\n      : this.defaultLanguage\n  }\n\n  private extractLang(lang: string): string {\n    return lang.substring(1, 3)\n  }\n\n  private setLangHTML() {\n    this.document.documentElement.lang = this.currentLang\n  }\n\n  get currentLanguage(): string {\n    return this.currentLang\n  }\n\n  set currentLanguage(lng: string) {\n    this.currentLang = lng\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { W2mSafeHtmlPipe } from './w2m-safe-to-html.pipe'\n\nconst PIPES = [\n  W2mSafeHtmlPipe,\n]\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [PIPES],\n  exports: [PIPES],\n})\nexport class PipesModule { }\n","<button class=\"is-flex w-button-language\"\n  mat-menu-item\n  [matMenuTriggerFor]=\"menu\">\n    {{ currentLang | uppercase }}\n    <em class=\"fas fa-sort-down\"></em>\n</button>\n\n<mat-menu #menu=\"matMenu\">\n  <button *ngFor=\"let language of languages | async\"\n    class=\"is-flex\"\n    mat-menu-item\n    (click)=\"onSelectLanguage(language)\">\n      {{ language.name }}\n  </button>\n</mat-menu>\n","import { Component, OnInit } from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { I18nService } from '../../shared/i18n/i18n.service'\nimport { Language } from '../../shared/i18n/model/language-dto'\n\n@Component({\n  selector: 'w2m-language-picker',\n  templateUrl: './w2m-language-picker.component.html',\n  styleUrls: ['./w2m-language-picker.component.scss'],\n})\nexport class W2MLanguagePickerComponent implements OnInit {\n  public languages: Observable<Language[]>\n\n  public currentLang: string\n\n  constructor(private i18nService: I18nService) {\n  }\n\n  ngOnInit(): void {\n    this.languages = this.i18nService.find()\n    this.changeLanguage()\n  }\n\n  public onSelectLanguage(selected: Language): void {\n    this.i18nService.changeLanguage(selected)\n  }\n\n  private changeLanguage() {\n    this.i18nService.changeLanguage$.subscribe((lng: string) => {\n      this.currentLang = lng\n    })\n  }\n}\n","<a *ngIf=\"urlLink && isInternalLink; else content\" [routerLink]=\"urlLink\">\n  <ng-container [ngTemplateOutlet]=\"content\"></ng-container>\n</a>\n\n<a *ngIf=\"urlLink && !isInternalLink; else content\"\n  [href]=\"urlLink\"\n  target=\"_blank\"\n  rel=\"noopener noreferrer\">\n  <ng-container [ngTemplateOutlet]=\"content\"></ng-container>\n</a>\n\n<ng-template #content>\n  <ng-content></ng-content>\n</ng-template>\n","import { Component, Input } from '@angular/core'\n\n@Component({\n  selector: 'w2m-link',\n  templateUrl: './w2m-link.component.html',\n  styleUrls: ['./w2m-link.component.scss'],\n})\nexport class W2mLinkComponent {\n  @Input() urlLink: string\n\n  get isInternalLink(): boolean {\n    this.urlLink = this.urlLink.trim()\n    return !this.urlLink.startsWith('http')\n  }\n}\n"],"sourceRoot":"webpack:///"}