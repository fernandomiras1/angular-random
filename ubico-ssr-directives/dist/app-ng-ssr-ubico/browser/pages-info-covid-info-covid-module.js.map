{"version":3,"sources":["./src/app/pages/info-covid/info-covid.component.ts","./src/app/pages/info-covid/info-covid.component.html","./src/app/pages/info-covid/info-covid.module.ts","./src/app/core/widgets/services/smartvel.service.ts","./src/app/core/widgets/widget-smartvel-seach/widget-smartvel-seach.component.ts","./src/app/core/widgets/widget.module.ts","./src/app/core/widgets/widget-smartvel-map/widget-smartvel-map.component.ts","./src/app/pages/info-covid/info-covid.routing.ts"],"names":[],"mappings":"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","file":"pages-info-covid-info-covid-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core'\nimport { ActivatedRoute, Params } from '@angular/router'\nimport { Subscription } from 'rxjs'\nimport { InfoCovidQueryParams } from './model/info-covid-query-params'\n\n@Component({\n  selector: 'app-info-covid',\n  templateUrl: './info-covid.component.html',\n  styleUrls: ['./info-covid.component.scss'],\n})\nexport class InfoCovidComponent implements OnInit, OnDestroy {\n  queryParamsSubscription: Subscription\n\n  params: InfoCovidQueryParams\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.queryParamsSubscription = this.route.queryParams\n      .subscribe((params: Params) => {\n        this.params = this.filterParams(params)\n      })\n  }\n\n  filterParams(params: Params): InfoCovidQueryParams {\n    return {\n      or: params.or || '',\n      dt: params.dt || '',\n      iata: params.iata || '',\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.queryParamsSubscription.unsubscribe()\n  }\n}\n","<div class=\"section-hero\">\n  <img src=\"../../../assets/img/ubico/home-4.jpg\" alt=\"Hero picture\">\n  <div class=\"container\">\n    <div class=\"section-hero__title\">\n      <h2>Info Covid-19</h2>\n      <div class=\"small-line\"></div>\n      <div class=\"section-hero__title-description\">\n        <h3>Debido a la situación sanitaria, los países han impuesto diferentes medidas de entrada a los viajeros. Te\n          recomendamos que verifiques los requisitos del país al que vayas a viajar en el siguiente mapa interactivo.\n        </h3>\n      </div>\n    </div>\n  </div>\n</div>\n<section class=\"ubi-padding-section\">\n  <div class=\"container\">\n    <div class=\"columns\">\n      <div class=\"column widget-container\">\n        <widget-smartvel-seach [origin]=\"params.or\" [destination]=\"params.dt\"></widget-smartvel-seach>\n      </div>\n    </div>\n  </div>\n</section>\n<section>\n  <div class=\"container\">\n    <div class=\"columns\">\n      <div class=\"column widget-container\">\n        <widget-smartvel-map [iata]=\"params.iata\"></widget-smartvel-map>\n      </div>\n    </div>\n  </div>\n</section>\n<section>\n  <div class=\"footer\">\n    <div class=\"container\">\n      <div class=\"columns\">\n        <div class=\"column is-12\">\n          <img src=\"../../../assets/img/ubico/logo-ubico-dark.svg\" alt=\"Logo Úbico\">\n        </div>\n      </div>\n      <div class=\"columns\">\n        <div class=\"column is-4\">\n          <h6>C/ General Riera, 154, 07010 Palma, Illes Balears. <br>©2021 Úbico | All rights reserved</h6>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { InfoCovidComponent } from './info-covid.component'\nimport { InfoCovidRoutingModule } from './info-covid.routing'\nimport { WidgetModule } from '../../core/widgets/widget.module'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    InfoCovidRoutingModule,\n    WidgetModule,\n  ],\n  declarations: [InfoCovidComponent],\n})\nexport class InfoCovidModule { }\n","import { Injectable } from '@angular/core'\nimport { environment } from '../../../../environments/environment'\nimport { ScriptStructure } from '../../../shared/models/script/script.model'\nimport { ScriptService } from '../../../shared/services/script.service'\nimport { SmartvelMap } from '../model/smartvel-map'\nimport { SmartvelSeach } from '../model/smartvel-seach'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SmartvelService {\n  private CONFIG_WIDGET_SEARCH: SmartvelSeach = {\n    apiKey: environment.APIKEY_SMARTVEL,\n    withdisclaimer: 'enabled',\n    lang: 'es',\n    destination: '',\n    origin: '15',\n    world: true,\n    version: '1.4.4',\n    cdnWidget: 'https://cdn.smartvel.com/scripts/swidget/boot.min.js',\n  }\n\n  private CONFIG_WIDGET_MAP: SmartvelMap = {\n    apiKey: environment.APIKEY_SMARTVEL,\n    lang: 'es',\n    iata: '',\n    zoom: 3,\n    cdnWidget: 'https://cdn.smartvel.com/scripts/cwidget/boot.min.js',\n  }\n\n  constructor(private scriptService: ScriptService) {}\n\n  get configSearchSmartvel(): SmartvelSeach {\n    return this.CONFIG_WIDGET_SEARCH\n  }\n\n  get configMapSmartvel(): SmartvelMap {\n    return this.CONFIG_WIDGET_MAP\n  }\n\n  public getSeatsWidget(): void {\n    const script: ScriptStructure = {\n      src: 'https://w2fly.3dseatmapvr.com/lopa/LopaViewer.min.js',\n    }\n    this.scriptService.addScript(script)\n  }\n\n  public getSeatsMapWidget(): void {\n    const script: ScriptStructure = {\n      src: 'https://dnce566tx3ijn.cloudfront.net/lopa/dev/SeatMapVR3D.min.js',\n    }\n    this.scriptService.addScript(script)\n  }\n\n  public loadMapCDN(): void {\n    const script: ScriptStructure = {\n      src: 'https://cdn.smartvel.com/scripts/swidget/boot.min.js',\n    }\n    this.scriptService.addScript(script)\n  }\n\n  public loadSearchCDN(): void {\n    const script: ScriptStructure = {\n      src: 'https://cdn.smartvel.com/scripts/cwidget/boot.min.js',\n    }\n    this.scriptService.addScript(script)\n  }\n}\n","import {\n  AfterViewInit,\n  Component, ElementRef, Input, Renderer2, ViewChild,\n} from '@angular/core'\nimport { SmartvelService } from '../services/smartvel.service'\nimport { SmartvelSeach } from '../model/smartvel-seach'\n\n@Component({\n  selector: 'widget-smartvel-seach',\n  template: '<smt-flyto #smtWidget></smt-flyto>',\n})\nexport class WidgetSmartvelSeachComponent implements AfterViewInit {\n  @Input() origin = ''\n\n  @Input() destination = ''\n\n  @ViewChild('smtWidget') smtWidget: ElementRef\n\n  constructor(private renderer: Renderer2,\n              private smartvelService: SmartvelService) { }\n\n  ngAfterViewInit(): void {\n    this.createSmartvelWidget(this.smartvelService.configSearchSmartvel)\n  }\n\n  private createSmartvelWidget(configSearch: SmartvelSeach): void {\n    const smtvel = this.smtWidget.nativeElement\n    this.renderer.setAttribute(smtvel, 'origin', this.origin)\n    this.renderer.setAttribute(smtvel, 'destination', this.destination)\n    this.renderer.setAttribute(smtvel, 'apikey', configSearch.apiKey)\n    this.renderer.setAttribute(smtvel, 'lang', configSearch.lang)\n    this.renderer.setAttribute(smtvel, 'withdisclaimer', configSearch.withdisclaimer)\n    this.smartvelService.loadSearchCDN()\n  }\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { WidgetSmartvelSeachComponent } from './widget-smartvel-seach/widget-smartvel-seach.component'\nimport { WidgetSmartvelMapComponent } from './widget-smartvel-map/widget-smartvel-map.component'\n\nconst WIDGET_COMPONENTS = [\n  WidgetSmartvelSeachComponent,\n  WidgetSmartvelMapComponent,\n]\n\n@NgModule({\n  declarations: [\n    WIDGET_COMPONENTS,\n  ],\n  imports: [\n    CommonModule,\n  ],\n  schemas: [\n    CUSTOM_ELEMENTS_SCHEMA,\n  ],\n  exports: [\n    WIDGET_COMPONENTS,\n  ],\n})\nexport class WidgetModule { }\n","import {\n  AfterViewInit, Component, ElementRef, Input, Renderer2, ViewChild,\n} from '@angular/core'\nimport { SmartvelService } from '../services/smartvel.service'\nimport { SmartvelMap } from '../model/smartvel-map'\n\n@Component({\n  selector: 'widget-smartvel-map',\n  template: '<smt-swidget #smtWidget></smt-swidget>',\n})\nexport class WidgetSmartvelMapComponent implements AfterViewInit {\n  @Input() iata = ''\n\n  @ViewChild('smtWidget') smtWidget: ElementRef\n\n  constructor(private renderer: Renderer2,\n              private smartvelService: SmartvelService) { }\n\n  ngAfterViewInit(): void {\n    this.createSmartvelWidget(this.smartvelService.configMapSmartvel)\n  }\n\n  private createSmartvelWidget(configMap: SmartvelMap): void {\n    const smtvel = this.smtWidget.nativeElement\n    this.renderer.setAttribute(smtvel, 'apikey', configMap.apiKey)\n    this.renderer.setAttribute(smtvel, 'lang', configMap.lang)\n    this.renderer.setAttribute(smtvel, 'iata', this.iata)\n    this.smartvelService.loadMapCDN()\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\nimport { InfoCovidComponent } from './info-covid.component'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InfoCovidComponent,\n  },\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InfoCovidRoutingModule { }\n"],"sourceRoot":"webpack:///"}